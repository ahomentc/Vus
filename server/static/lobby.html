<html style="background-color: black">
  <head>
    <meta charset="utf-8">
    <title>GroupUp Lobby</title>
    <meta name="description" content="Dev Example â€” Networked-Aframe">

    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="/js/spawn-in-circle.component.js"></script>
    <script src="https://unpkg.com/aframe-text-component@^0.4.1/dist/aframe-text-component.min.js"></script> 
  </head>

  <body>
    <a-scene >
      <a-assets>
        <img id="grid" src="https://img.gs/bbdkhfbzkk/stretch/https://i.imgur.com/25P1geh.png" crossorigin="anonymous">
        <img id="sky" src="http://i.imgur.com/WqlqEkq.jpg" crossorigin="anonymous" />

      </a-assets>

      <a-entity id="player" camera="userHeight: 1.6" spawn-in-circle="radius:3" wasd-controls look-controls>
        <a-sphere class="head"
          visible="false"
          random-color
        ></a-sphere>
      </a-entity>

      <a-entity position="0 0 0"
        geometry="primitive: plane; width: 10000; height: 10000;" rotation="-90 0 0"
        material="src: #grid; repeat: 10000 10000; transparent: true; metalness:0.6; roughness: 0.4; sphericalEnvMap: #sky;"></a-entity>

      <!-- <a-entity light="color: #ccccff; intensity: 1; type: ambient;" visible=""></a-entity> -->
      <!-- <a-entity light="color: #ffaaff; intensity: 1.5" position="5 5 5"></a-entity> -->
      <a-entity light="color: #ccccff; intensity: 4; type: ambient;" visible=""></a-entity>
      <a-entity light="color: #ffaaff; intensity: 4" position="5 5 5"></a-entity>

      <a-sky src="#sky" rotation="0 -90 0"></a-sky>
      <!-- <a-entity id="particles" particle-system="preset: snow"></a-entity> -->
      

      <a-camera position="0 1.6 0"> 
        <a-entity cursor="fuse: false"  position="0 0 -1"   geometry="primitive:ring; radiusInner: 0.02; radiusOuter: 0.03"  material="color: white; shader: flat"></a-ring>
      </a-camera>
      <!-- "button" -->
      <!-- <a-entity id="link_button" geometry="primitive: box" material="color: white" position="0 0 2">1</a-entity> -->
      <a-box color="black" depth=".1" height="4" width="4" position="0 2 -3.1"></a-box>
      <a-text id="textbox1" position="0 2 -3" value="Hello world"></a-text>
      <a-text id="button_0" geometry="primitive: plane; width:.3; height:.3; depth:.1" position="-.25 1.7 -3" material="opacity: 0.0; transparent: true" value="0"></a-text>
      <a-text id="button_1" position="0 1.7 -3" value="1"></a-text>
      <!-- <a-gltf-model id="link_button" src="models/portal/Portal_01.gltf" position="0 0 -2"></a-gltf-model> -->
        <script>
          document.querySelector('#button_0').addEventListener('click', function() {
                document.getElementById('#textbox1').setComponent("value","hi");
            });
        </script>
    </a-scene>

    <script>
        host = "http://127.0.0.1"
        document.querySelector('#link_button').addEventListener('click', function() {
            window.location.href =  host + ':8080/room/google-blocks.html';
            // window.location.href =  host + ':8080/google-blocks.html';
        });
    </script>

    <script>
      // On mobile remove elements that are resource heavy
      var isMobile = AFRAME.utils.device.isMobile();

      if (isMobile) {
        var particles = document.getElementById('particles');
        particles.parentNode.removeChild(particles);
      }
    </script>
  </body>
</html>
